<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"stay-curious.win","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.12.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="人生天地间，忽如远行客。">
<meta property="og:type" content="website">
<meta property="og:title" content="湖面">
<meta property="og:url" content="https://stay-curious.win/page/2/index.html">
<meta property="og:site_name" content="湖面">
<meta property="og:description" content="人生天地间，忽如远行客。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Richard Zheng">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://stay-curious.win/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>湖面</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">湖面</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Richard Zheng</p>
  <div class="site-description" itemprop="description">人生天地间，忽如远行客。</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">56</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/10/10/algorithm-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/10/10/algorithm-notes/" class="post-title-link" itemprop="url">算法学习笔记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-10 07:08:00" itemprop="dateCreated datePublished" datetime="2021-10-10T07:08:00+08:00">2021-10-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>学习算法的过程中看题解是很重要的一环，但往往题解只提供一种解法，角度难免片面。因此这里主要以题目为中心，整理我看到的各种解法以及一些个人感想。</p>
<h2 id="p1115-最大子段和">P1115 最大子段和</h2>
<p>这题贪心应该是最直接的方法，也同时可以用前缀和的思想做。</p>
<p>题目要求的是选连续的一段，而且不限制长度，如果我们又枚举起点又枚举长度就会 <span class="math inline">\(O(n^2)\)</span> .</p>
<p>起点不确定的情况不好控制，我们可以把子段和转化成：第 <span class="math inline">\(1\)</span> 到 <span class="math inline">\(x\)</span> 个数之和减去第 <span class="math inline">\(1\)</span> 到 <span class="math inline">\(y\)</span> 个数之和，其中 <span class="math inline">\(x &gt; y\)</span> . 对于每一个 <span class="math inline">\(x\)</span> ，问题就转换成了求最小前缀和。时间复杂度 <span class="math inline">\(O(n)\)</span>.</p>
<p>贪心就更直接了。设当前以第 <span class="math inline">\(i\)</span> 个数结尾的子段最大和为 <span class="math inline">\(dp[i]\)</span> ，我们可以看出若是 <span class="math inline">\(dp[i - 1] + a[i] &lt; 0\)</span>，我们就还不如不选第 <span class="math inline">\(i\)</span> 个数，直接 <span class="math inline">\(dp[i] = 0\)</span> 即可。其他情况下就必然是 <span class="math inline">\(dp[i] = dp[i - 1] + a[i]\)</span>. 最后找出最大的 <span class="math inline">\(dp[i]\)</span> 就可以了。由于 <span class="math inline">\(dp[i]\)</span> 可以直接由一个变量存储，空间复杂度 <span class="math inline">\(O(1)\)</span>. 时间复杂度 <span class="math inline">\(O(n)\)</span>.</p>
<h2 id="cf1573b-swaps">CF1573B Swaps</h2>
<p>这题看起来很复杂，其实就一个关键点：<span class="math inline">\(a\)</span> 都为奇数而 <span class="math inline">\(b\)</span> 都为偶数，因此这两个数组从第一个数开始就不一样。想让 <span class="math inline">\(a\)</span> 字典序小于 <span class="math inline">\(b\)</span> 的话，就需要且仅需要 <span class="math inline">\(a_1&lt;b_1\)</span>. 所以只要找到一对 <span class="math inline">\(a_i\)</span> 和 <span class="math inline">\(b_j\)</span> 满足 <span class="math inline">\(a_i&lt;b_j\)</span> 并一个一个把这两个数分别移到最前面就好了。此时问题就转化为找最小的 <span class="math inline">\(i+j-2\)</span>. （若下标从 <span class="math inline">\(0\)</span> 开始则为最小的 <span class="math inline">\(i+j\)</span>）</p>
<p>假设我们一定要选某个 <span class="math inline">\(b\)</span> 中的偶数 <span class="math inline">\(b_j\)</span>，此时我们只需要找满足 <span class="math inline">\(a_i&lt;b_j\)</span> 的下标最小的 <span class="math inline">\(a_i\)</span> 即为最优解。因此我们可以这样做：开一个数组 <span class="math inline">\(p\)</span> 记录某个数 <span class="math inline">\(n\)</span> 在数组 <span class="math inline">\(a/b\)</span> 中的位置 <span class="math inline">\(p_n\)</span>. 从大到小遍历所有的数，然后用一个变量 <span class="math inline">\(l\)</span> 记录当前遍历到的 <span class="math inline">\(a\)</span> 中最小的下标，若当前数 <span class="math inline">\(n\)</span> 为奇数则 <span class="math inline">\(l=min(l, p_n)\)</span>，若当前为偶数则更新答案为 <span class="math inline">\(min(answer, p_n + l)\)</span>. （注意这里认为下标从 <span class="math inline">\(0\)</span> 开始）</p>
<h2 id="abc223b-string-shifting">ABC223B String Shifting</h2>
<p>不知道是不是受到之前做的一道很类似的题的影响，这题想了很久很久。</p>
<p>首先分析问题：题目中的平移可等价为把字符串的前<span class="math inline">\(n\)</span>个字符移到最后或者把字符串的后<span class="math inline">\(n\)</span>个字符移到最前。那么我们首先会发现把前<span class="math inline">\(n\)</span>个字符移动到最后等价于把后<span class="math inline">\(length-n\)</span>个字符移动到最前，我们只用关心移动到最前（或最后）的情况。由于每次只能操作最后的<span class="math inline">\(n\)</span>个字符，无论操作多少次都可等价于操作一次。那么问题转化为：</p>
<blockquote>
<p>给定非空字符串<span class="math inline">\(S\)</span>，选择<span class="math inline">\(S\)</span>的后<span class="math inline">\(n\)</span>个字符移动到首端。分别求移动后使得<span class="math inline">\(S\)</span>字典序最大和最小的<span class="math inline">\(n\)</span>。</p>
</blockquote>
<p>剩下的就很简单了：鉴于<span class="math inline">\(n\leq1000\)</span>，我们直接枚举所有可能的<span class="math inline">\(n\)</span>，把最大的和最小的找出来就好了。（然而因为没注意到这个题允许<span class="math inline">\(O(n^2)\)</span>时间复杂度我卡了1hr多）</p>
<h2 id="年广东工业大学新生赛-f-失踪的玫瑰">2019年广东工业大学新生赛 F 失踪的玫瑰</h2>
<p>参考：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/discuss/352755">【题解】2019年广东工业大学腾讯杯新生程序设计竞赛</a></p>
<p>题面可以等价转换为：有<span class="math inline">\(n\)</span>个山洞，初始状态下每个山洞里都有一只狐狸，每天晚上每只没抓住的狐狸都会分身去两边的洞，每天白天都有一个猎人去查看一个山洞，求抓住全部狐狸的方案数。以下用x代表一定没有狐狸的洞口，用o代表有狐狸的洞口。对于<span class="math inline">\(n=5\)</span>的情况，我们从右往左依次检查试试：</p>
<table>
<thead>
<tr class="header">
<th>检查洞口</th>
<th>白天抓捕完后</th>
<th>过了一晚上后</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>5</td>
<td>oooo<strong>x</strong></td>
<td>ooooo</td>
</tr>
<tr class="even">
<td>4</td>
<td>ooo<strong>x</strong>o</td>
<td>oooox</td>
</tr>
<tr class="odd">
<td>3</td>
<td>oo<strong>x</strong>ox</td>
<td>oooxo</td>
</tr>
<tr class="even">
<td>2</td>
<td>o<strong>x</strong>oxo</td>
<td>xoxox</td>
</tr>
</tbody>
</table>
<p>可以看出最后一次抓捕的下一个白天，所有奇数洞都没有狐狸。</p>
<p>下面有一个重要的结论：</p>
<p>每天检查之后，被检查的洞的右边<strong>不会存在开局位于奇数洞</strong>的狐狸。</p>
<p>为什么呢？</p>
<p>因为开局在奇数洞的狐狸，在奇数次抓捕时必定在奇数洞里，在偶数次抓捕时必定在偶数洞里。开局在偶数洞的狐狸正好相反。而从奇数洞走到旁边的奇数洞需要2个晚上，被检查的洞的左边的狐狸若是想走到右边，必定会在移动时遇到抓捕。</p>
<p>这里还应注意到的是，我们第一天检查5号洞口后，4号洞口的狐狸当晚就会分身去5号洞口，也就是说检查两边的洞口是<strong>无效的</strong>。因此3天即可抓捕完奇数洞狐狸。</p>
<p>如果要抓开局位于偶数洞的狐狸呢？</p>
<table>
<thead>
<tr class="header">
<th>检查洞口</th>
<th>白天抓捕完后</th>
<th>过了一晚上后</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4</td>
<td>ooo<strong>x</strong>o</td>
<td>oooox</td>
</tr>
<tr class="even">
<td>3</td>
<td>oo<strong>x</strong>ox</td>
<td>oooxo</td>
</tr>
<tr class="odd">
<td>2</td>
<td>o<strong>x</strong>oxo</td>
<td>xoxox</td>
</tr>
</tbody>
</table>
<p>3天即可抓捕完。</p>
<p>然后呢，抓奇数洞狐狸？诶奇数洞怎么已经没有狐狸了？这是因为我们花了奇数天抓捕，开局偶数洞的狐狸一晚上后都在奇数洞。那么我们能不能把这个当作开局状态，再来一次偶数洞狐狸抓捕？</p>
<p>当然可以！最后答案是<span class="math inline">\(\{4,3,2,4,3,2\}\)</span>，但是这不是字典序最小的方案。因为选择从左到右给洞穴标号还是从右到左给洞穴标号是不重要的，所以答案为<span class="math inline">\(\{2,3,4,2,3,4\}\)</span>.</p>
<p>再经过一些推导，洞穴个数<span class="math inline">\(n\)</span>为奇数时都为这种情况，即<span class="math inline">\(\{2,3,4,\cdots ,n-1,2,3,4,\cdots ,n-1\}\)</span>.</p>
<p><span class="math inline">\(n\)</span>为偶数时，比如<span class="math inline">\(n=4\)</span>时，因为<span class="math inline">\(n-1=3\)</span>为奇数，我们就先抓开局奇数洞狐狸：</p>
<table>
<thead>
<tr class="header">
<th>检查洞口</th>
<th>白天抓捕完后</th>
<th>过了一晚上后</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td>oo<strong>x</strong>o</td>
<td>ooox</td>
</tr>
<tr class="even">
<td>2</td>
<td>o<strong>x</strong>ox</td>
<td>xoxo</td>
</tr>
<tr class="odd">
<td>3</td>
<td>xo<strong>x</strong>o（？）</td>
<td>oxox</td>
</tr>
<tr class="even">
<td>2</td>
<td>o<strong>x</strong>ox（？）</td>
<td>xoxo</td>
</tr>
</tbody>
</table>
<p>诶诶诶等一下！这最后两次都抓了个空气啊！</p>
<p>这是因为<span class="math inline">\(n\)</span>为偶数时抓奇数洞狐狸所需天数不是奇数天而是偶数天了。开局偶数洞的狐狸一晚上后都在偶数洞。我们要抓偶数洞狐狸，但是不能检查两边的洞口（也就是第1个洞口不能是<span class="math inline">\(n\)</span>），所以我们调换方向，从2号洞口开始。</p>
<table>
<thead>
<tr class="header">
<th>检查洞口</th>
<th>白天抓捕完后</th>
<th>过了一晚上后</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>o<strong>x</strong>oo</td>
<td>xooo</td>
</tr>
<tr class="even">
<td>3</td>
<td>xo<strong>x</strong>o</td>
<td>oxox</td>
</tr>
</tbody>
</table>
<p>成功！最后结果是<span class="math inline">\(\{3,2,2,3\}\)</span>，调换一下编号方向就是<span class="math inline">\(\{2,3,3,2\}\)</span>. 所以<span class="math inline">\(n\)</span>为偶数时答案为<span class="math inline">\(\{2,3,\cdots n-1,n-1,n-2,\cdots ,1\}\)</span>.</p>
<h2 id="cf1584b-coloring-rectangles">CF1584B Coloring Rectangles</h2>
<p>刚看到这题的时候没什么想法，就乱试。试了半天发现似乎<span class="math inline">\(1\times 3\)</span>是最优的切法。然后就开始纠结在特判两条边都不能被<span class="math inline">\(3\)</span>整除的情况上。现在回想起来，自己的思维还是太窄了。</p>
<p>然后就想了个DP做法。对于<span class="math inline">\(1\times n\)</span>的长方形而言，只需要贪心尽可能多地切成<span class="math inline">\(1\times 3\)</span>即可。模拟一下就会发现答案是<span class="math inline">\(\lceil \frac{n}{3} \rceil\)</span>​. 于是就可以用DP做了：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; MAXNM; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; MAXNM; j++) &#123;</span><br><span class="line">        dp[i][j] = <span class="built_in">min</span>(dp[i - <span class="number">1</span>][j] + ((j + <span class="number">3</span> - <span class="number">1</span>) / <span class="number">3</span>), dp[i][j - <span class="number">1</span>] + ((i + <span class="number">3</span> - <span class="number">1</span>) / <span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然而看数据范围<span class="math inline">\(1 \leq n, m \leq 3 \cdot 10^4\)</span>，被卡了。所以下面是官方题解：</p>
<p>首先找上色后矩形的性质：若一个矩形按照题目要求上色，则相邻的行/列的上色图案正好相反，相邻两行的上色和未上色方块数相同。若长和宽都为偶数，则每两行和列的上色图案将会完全相同。若一个为偶数一个为奇数，则每两行或列的上色图案将会完全相同，这两行内部互相上色方块数将相差1. 这两种情况下上色和未上色方块数都相同，即上色方块占所有方块的<span class="math inline">\(\frac{1}{2}\)</span>。但若长和宽都为奇数，上色和未上色方块数将会相差1. 令方块总数（面积）为<span class="math inline">\(S\)</span>, 则上色方块数为<span class="math inline">\(\frac{S - 1}{2}\)</span>, 占所有方块的<span class="math inline">\(\frac{S - 1}{2 \cdot S}\)</span>.</p>
<p>我们的期望是上色方块的比例尽可能小。根据题目条件<span class="math inline">\(S\geq 2\)</span>，因此当<span class="math inline">\(S=3\)</span>时<span class="math inline">\(\frac{S - 1}{2 \cdot S}=\frac{1}{3}\)</span>为可能的最小值。因此，这就是对答案的最小估计：<span class="math inline">\(n \cdot m \cdot \frac{1}{3} \leq answer\)</span>.</p>
<p>现在，如果我们构造出一个要求必须给<span class="math inline">\(cnt\)</span>个方块上色的剪切方案，且<span class="math inline">\(\frac{n \cdot m}{3} \leq cnt &lt; \frac{n \cdot m}{3} + 1\)</span>，那么答案就是<span class="math inline">\(cnt\)</span>. （也即这个剪切方案就是最优方案）因为<span class="math inline">\(cnt\)</span>是满足我们估计的最小的整数。</p>
<p>如果一条边能被3整除，那么很明显你可以把它全部切成<span class="math inline">\(1\times 3\)</span>的矩形然后得到最优解。</p>
<p>如果这两条边被3除后余1和1，或者余2和2，那么你可以把它切成一些<span class="math inline">\(1\times 3\)</span>的矩形，加上一个<span class="math inline">\(1\times 4\)</span>或<span class="math inline">\(2\times 2\)</span>的矩形。多出来的这个矩形里要给2个方块上色，显然满足要求。</p>
<p>如果这两条边被3除后余1和2，那么你可以把它切成一些<span class="math inline">\(1\times 3\)</span>的矩形，加上一个<span class="math inline">\(1\times 2\)</span>的矩形。多出来的这个矩形里要给1个方块上色，显然满足要求。</p>
<p>由答案必须是整数，可得答案为<span class="math inline">\(\lceil \frac{n \cdot m}{3} \rceil\)</span>.</p>
<h2 id="p5824-十二重计数法">P5824 十二重计数法</h2>
<p>自己做的，好像有些错误。先记着吧。</p>
<ol type="1">
<li>问题可转化成有<span class="math inline">\(n\)</span>个有编号的格子，每个格子可填入<span class="math inline">\(1\sim m\)</span>的任意整数。题目正好对应为<span class="math inline">\(m\)</span>进制下<span class="math inline">\(1\sim n\)</span>位数的个数，也即<span class="math inline">\(n^m\)</span>.（<strong>可重复排列</strong>）</li>
<li>先从<span class="math inline">\([1,n]\)</span>中选出<span class="math inline">\(m\)</span>个数，然后全排列。即<span class="math inline">\(C_n^m\cdot A_m^m\)</span>.</li>
<li>可拆分成：先从<span class="math inline">\([1,n]\)</span>中选出<span class="math inline">\(m\)</span>个数，使它们装到<span class="math inline">\(m\)</span>个盒子中，每个盒子至多装一个球，也即问题2；剩下的<span class="math inline">\(n-m\)</span>个球可以任意装到盒子中，也即问题1. 答案<span class="math inline">\(C_n^m\cdot A_m^m\cdot (n-m)^m\)</span>.</li>
<li>盒子全部相同，意味着哪些球在一个盒子里重要，但是具体在哪一个盒子不重要。问题1除以盒子的排列数<span class="math inline">\(A_m^m\)</span>即可。但是我们也可以用隔板法：<span class="math inline">\(1,2,\cdots ,n\)</span>编号的小球打乱顺序后之间放上<span class="math inline">\(m-1\)</span>个隔板。即为<span class="math inline">\(A_n^n\cdot C_{n+1}^{m-1}\)</span>.</li>
<li><strong>不可重复组合</strong>：<span class="math inline">\(C_n^m\)</span>.</li>
<li>先从<span class="math inline">\([1,n]\)</span>中选出<span class="math inline">\(m\)</span>个数直接装到盒子中，剩下的<span class="math inline">\(n-m\)</span>个球任意装。<span class="math inline">\(C_n^m\cdot A_{n-m}^{n-m}\cdot C_{n-m+1}^{m-1}\)</span>.</li>
<li>球全部相同，意味着盒子里有多少球重要，但是具体是哪些球不重要。可用隔板法：<span class="math inline">\(n\)</span>个小球中间放上<span class="math inline">\(m-1\)</span>个隔板，即<span class="math inline">\(C_{n+1}^{m-1}\)</span>.</li>
<li>盒子只有两种状态：装了一个球/没装球。选出装了球的盒子即为<span class="math inline">\(C_m^n\)</span>.</li>
<li>每个盒子都装一个球后剩下的球有<span class="math inline">\(n-m\)</span>个，回到问题7，即<span class="math inline">\(C_{n-m+1}^{m-1}\)</span>.</li>
<li>从这开始就有点难了，先模拟一下：设装球最少的盒子装了<span class="math inline">\(x\)</span>个球，那么装球第二少的盒子可以装<span class="math inline">\([x,m]\)</span>个，</li>
</ol>
<h2 id="广东工业大学新生赛初赛题解与反思">2021广东工业大学新生赛初赛题解与反思</h2>
<p>初赛结果不理想，只出了5个题。</p>
<p>其实回想起来有些题赛时本来能做出来的，但是因为各种原因没做好，在此纪录。也一并为以后的学习指明方向。</p>
<h3 id="a-简单的求零点问题"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/A">A 简单的求零点问题</a></h3>
<p>很显然，用二分找零点。但是我一看到这题就有点犯难，为什么呢？因为我<strong>连二分都不能熟练地码出来</strong>。</p>
<p>所以今天整理一下二分。（参考<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000008699980">这篇文章</a>）</p>
<h4 id="如何快速判断自己的二分程序是否正确">如何快速判断自己的二分程序是否正确</h4>
<p>我们知道二分的思想就是每次取一半，想象一下，不管给我们的数组有多长，每次取一半，最终都会被压缩成长度为 1 的数组，然后在这个长度为 1 的数组里判断并返回，所以我们可以直接用长度为 1 的数组来测试程序。</p>
<h4 id="二分查找">二分查找</h4>
<p>给定长度为n的数组（<span class="math inline">\(n\geq 1\)</span>）</p>
<p>问题1：找到值为value的元素的下标</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">BinarySearch</span><span class="params">(<span class="type">int</span> array[], <span class="type">int</span> n, <span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="comment">// 注意防止溢出</span></span><br><span class="line">        <span class="type">int</span> middle = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (array[middle] &gt; value) &#123;</span><br><span class="line">            right = middle - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[middle] &lt; value) &#123;</span><br><span class="line">            left = middle + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> middle;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>问题2：找到<strong>第一个</strong>值为value的元素的下标</p>
<p>这时候遇到相等也不能直接返回，只能排除掉右侧的所有数。</p>
<p>数组的长度为 1 或 2 时，<code>middle</code>为 0. 若<code>array[0]</code>为要找的数，则<code>right</code>将被赋值为 -1，循环结束，<code>left</code>为答案。数组长度为 2 且<code>array[1]</code>为要找的数时，<code>left</code>将被赋值为 1，回到数组长度为 1 的情况。</p>
<p>因此最后再判断一下<code>left</code>是否为要找的数，如果是则返回，否则答案不存在。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">BinarySearch</span><span class="params">(<span class="type">int</span> array[], <span class="type">int</span> n, <span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> right = n - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> middle = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (array[middle] &gt;= value) &#123;</span><br><span class="line">            right = middle - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = middle + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left &lt; n &amp;&amp; array[left] == value) &#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>问题3：找到<strong>最后一个</strong>值为value的元素的下标</p>
<p>这就是问题2的倒序版本。改动两个地方即可</p>
<ol type="1">
<li><p><code>if (array[middle] &gt;= value)</code> 中的等号去掉；</p></li>
<li><p><code>if (right &gt;= 0 &amp;&amp; array[right] == value) &#123;return right;&#125;</code></p></li>
</ol>
<p>问题4：找到<strong>第一个大于等于</strong>value的下标</p>
<p>在问题2中，我们的策略是让<code>left</code>刚好为第一个大于等于value的数的下标，而让<code>right</code>刚好为第一个小于value的数的下标。因此只需要去掉最后判断答案存在的<code>array[left] == value</code>条件即可。</p>
<p>问题5：找到<strong>最后一个小于等于</strong>value的下标</p>
<p>与问题4同理，去掉问题3中最后判断答案存在的<code>array[right] == value</code>条件。</p>
<h3 id="b-abeasy"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/B">B a+b(easy)</a></h3>
<p>这题能卡我，题面也要背点锅。赛时的样例1输入为<code>1 2</code>输出为<code>3</code>. 而我又<strong>对位运算不够熟悉</strong>，在无论如何也找不到对应的x和y时陷入了自我怀疑之中。</p>
<p>题目本身确实很简单。取或运算可以看成不进位，只把每一位单独加起来。取和运算就看成每一位会不会进位（二进制加法只有进位/不进位两种可能）。那么加起来自然就与这两个数本身加起来相等。</p>
<h3 id="c-百家姓与年龄"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/C">C 百家姓与年龄</a></h3>
<p>这道题题面看起来有点混乱……本来不复杂的描述参杂了3个人进来，还有两个人名字就差一个字母。当时愣是来回看了三四遍才明白意思。<strong>下次读题要冷静，快速排除无关信息。</strong></p>
<p>读完题，把式子列出来一算就很显然了。令<span class="math inline">\(x\)</span>为出生年份，<span class="math inline">\(y\)</span>为排位。 <span class="math display">\[
\begin{aligned}
a&amp;=50(2y+5)+1771-x\\
&amp;=100y+2021-x
\end{aligned}
\]</span> 联想到今年是2021年，<span class="math inline">\(2021-x\)</span>为年龄，且年龄小于100岁。年龄即为<span class="math inline">\(a\)</span>的最后两位数，排位为余下的数。</p>
<p><del>所以这道题的保质期已经不足两个月了。</del></p>
<p><del>所以居然是年龄小于100而不是百家姓排位小于100。</del></p>
<h3 id="d-帮助小鱼"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/D">D 帮助小鱼</a></h3>
<blockquote>
<p>接下来 <span class="math inline">\(n\)</span> 个数，第 <span class="math inline">\(i\)</span> 个数代表第 <span class="math inline">\(i\)</span> 个部长摸了那一条鱼。</p>
</blockquote>
<p>又懵逼半天，这到底输入的啥。</p>
<p>最后就是开个桶或者map记录鱼被谁摸，然后顺序输出就好了。</p>
<h3 id="e-上楼方式"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/E">E 上楼方式</a></h3>
<p>整个比赛中做的最错误的决定就是第二个读这道题。</p>
<p>当时自己晚了3分钟开始（定了个开始前20分钟的闹钟，响了以后就坐在电脑前等，然后居然忘记定开场时的闹钟了），然后眼看着其他题都被人AC过了，这道题还没有。再加上有上楼梯这种经典递推板题的存在，我信 心 满 满地准备试一试。</p>
<p><del>这题怎么也有3个莫名其妙的名字。</del></p>
<p>然后就读错题了，3步登上教堂我想当然地以为是踩3阶楼梯。其实是指在楼梯上移动三次，比如1-2-3-4.</p>
<p>第一阶必定是1，最后一阶必定是<span class="math inline">\(n\)</span>，所以上楼方案数为 <span class="math display">\[
C_{n-2}^2=\dfrac{n\times (n-1)}{2}
\]</span> 但是还有一个细节：不能直接对被除数取模。一个 workaround 是判断当前<span class="math inline">\(n\)</span>的奇偶性然后先除后乘，避免溢出。</p>
<h3 id="f-气球"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/F">F 气球</a></h3>
<p>先看两种买法折算的单价：</p>
<ul>
<li><code>3 * a &lt; 2 * b</code>：两件买法更优。这时最多可能买1个三件，因为买2个三件时显然不如买3个两件。</li>
<li><code>3 * a &gt; 2 * b</code>：三件买法更优。这时可能买1或2个两件，买3个两件时就必定不如买2个三件。</li>
</ul>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="number">3</span> * a &lt; <span class="number">2</span> * b) &#123;</span><br><span class="line">    <span class="comment">// choose 2</span></span><br><span class="line">    ans = a * ((n + <span class="number">2</span> - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (n &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">        ans = <span class="built_in">min</span>(ans, a * ((n - <span class="number">3</span> + <span class="number">2</span> - <span class="number">1</span>) / <span class="number">2</span>) + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// choose 3;</span></span><br><span class="line">    ans = b * ((n + <span class="number">3</span> - <span class="number">1</span>) / <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">if</span> (n &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">        ans = <span class="built_in">min</span>(ans, b * ((n - <span class="number">2</span> + <span class="number">3</span> - <span class="number">1</span>) / <span class="number">3</span>) + a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">        ans = <span class="built_in">min</span>(ans, b * ((n - <span class="number">4</span> + <span class="number">3</span> - <span class="number">1</span>) / <span class="number">3</span>) + <span class="number">2</span> * a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="g-zrgg出题"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/G">G zrgg出题</a></h3>
<p>前<span class="math inline">\(x\)</span>个数中<span class="math inline">\(a_i\)</span>的倍数的个数为：<span class="math inline">\(\left\lfloor\dfrac{x}{a_i}\right\rfloor\)</span>，容斥一下就可得到<span class="math inline">\([l,r]\)</span>之间的倍数个数为<span class="math inline">\(\left\lfloor\dfrac{r}{a_i}\right\rfloor-\left\lfloor\dfrac{l-1}{a_i}\right\rfloor\)</span>.</p>
<p>但是需要注意，三个<span class="math inline">\(a_i\)</span>之间有公倍数，这些公倍数被重复计算了，所以我们需要减回去。但是减回去的时候同时为三个数的公倍数又被多减了，所以需要再加回去。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n, l, r, k;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">multiple_count</span><span class="params">(<span class="type">int</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (r / a) - ((l - <span class="number">1</span>) / a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; l &gt;&gt; r &gt;&gt; k;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">3</span>];</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        ans += <span class="built_in">multiple_count</span>(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; k; j++) &#123;</span><br><span class="line">            ans -= <span class="built_in">multiple_count</span>(<span class="built_in">lcm</span>(a[i], a[j]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">3</span>) &#123;</span><br><span class="line">        ans += <span class="built_in">multiple_count</span>(<span class="built_in">lcm</span>(a[<span class="number">0</span>], <span class="built_in">lcm</span>(a[<span class="number">1</span>], a[<span class="number">2</span>])));</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="h-abhard"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/H">H a+b(hard)</a></h3>
<p>基于B题的铺垫，可以直接想到把<span class="math inline">\(b_i\)</span>和<span class="math inline">\(c_i\)</span>加起来得到 <span class="math display">\[
d_i=
\begin{cases}
a_i+a_{i+1}&amp;1\leq i&lt;n\\
a_i+a_1&amp;i=n
\end{cases}
\]</span> 当<span class="math inline">\(2\leq i&lt; n\)</span>时，<span class="math inline">\(d_i-d_{i-1}=a_{i+1}-a_{i-1}\)</span>. 由<span class="math inline">\(n\)</span>为奇数，得 <span class="math display">\[
d_{n-1}-d_{n-2}+d_{n-3}-d_{n-4}+\cdots +d_{2}-d_{1}=a_n-a_1
\]</span> 并且<span class="math inline">\(d_n=a_n+a_1\)</span>，所以可以直接求出<span class="math inline">\(a_1\)</span>. 之后就很简单了。</p>
<h3 id="i-定向越野是世界上最好的运动"><a target="_blank" rel="noopener" href="https://gdutcode.cn/contest/15/problem/I">I 定向越野是世界上最好的运动</a></h3>
<p>这题看起来就很吓人，有点让人无所适从。但是我们注意数据范围：<span class="math inline">\(2\leq n\leq 12\)</span>，时间限制3秒。这数据范围一看就是妥妥的<strong>NP问题</strong>，不是多项式时间能解决的。所以我们可以直接从比较暴力的思路想。</p>
<p>先看一个简化的问题：如果两人速度相同，那么问题可以转化成：经过所有点位（包括起点终点）且不重复走某个点位的最优方案。这样走出来的路径将是一个环，而我们从起点和终点分割这个环得到的就是两人的行走路线。这就是著名的“旅行商问题（Travelling salesman problem)”。我们可以使用状态压缩动态规划来求解。</p>
<p>啥是状态压缩呢？很简单，本来我们有<span class="math inline">\(n\)</span>个点位，那么对于每个点位是否经过就一共有一个<span class="math inline">\(n\)</span>维的状态，每个维度只能取经过/没经过两个值。那么现在我们可以用一个二进制数来对应一种状态，用0和1表示没经过和经过。这样就把<span class="math inline">\(n\)</span>维的状态<strong>压缩</strong>成了一维。</p>
<p>定义<span class="math inline">\(dp(S,i)\)</span>表示当前在点位<span class="math inline">\(i\)</span>，已访问点位集合为<span class="math inline">\(S\)</span>​（用二进制表示）的最短路程，那么状态转移方程为 <span class="math display">\[
dp(S,i)=\min\left\{d(S-\{i\},j)+dist(j,i)\mid j\in S\right\}
\]</span> 对于这道问题，我们只需要一点点适配：设没经过终点（最后一个点位）之前是第一个人A在走，经过终点回到起点时是第二个人B在走。那么修改求两点距离的函数<span class="math inline">\(dist(j,i)\)</span>为此人走过这段距离所需时间即可。</p>
<h2 id="cf1603a-di-visible-confusion">CF1603A Di-visible Confusion</h2>
<p>首先分析操作：决定一个数能否被删除的只有它的序号，因此删除某个数对它左边的数没有影响，而右边的数也不会关心具体是哪个数被删除了。所以，从右往左贪心删除一定是最优的方案。</p>
<p>题目问的是一个序列能不能被全部删除，所以我们就要找反面：从右往左贪心删除时会遇到所有数都无法被删除的局面。再联系刚才说了删除操作对左边的数没影响可知，如果一个序列前面某几项都被<span class="math inline">\((i+1)\)</span>整除，那么这个序列必定无法被全部删除。即若第一项被<span class="math inline">\(2\)</span>整除，整个序列必定无法被全部删除。</p>
<p>继续推广，如果第<span class="math inline">\(i\)</span>项被<span class="math inline">\((i+1)!\)</span>整除，那么整个序列必定无法被全部删除。由于阶乘的增长速度是很大的，而<span class="math inline">\(a_i\leq 10^9\)</span>，所以一旦阶乘超过<span class="math inline">\(10^9\)</span>就不用看后面的了。</p>
<p>写出来一交，Wrong Answer.</p>
<p>上面推广的过程是错误的。应该把<span class="math inline">\((i+1)!\)</span>换成<span class="math inline">\(LCM(2,3,\cdots,i+1)\)</span>. 把最小公倍数当成乘法这个操作在新生赛初赛中已经搞过一次，现在印象够深刻了。说到底，还是数论相关题目自己做得太少，知识也不牢固。</p>
<h3 id="最大公因数greatest-common-divisor">最大公因数（Greatest Common Divisor）</h3>
<p>最大公因数的算法是辗转相除法，基于一个原理：如果<span class="math inline">\(a&gt;b\)</span>则<span class="math inline">\(gcd(a,b)=gcd(b,a-b)\)</span>. 我们可以验证一下正确性 <span class="math display">\[
\begin{aligned}
a&amp;=2^2\times 3^2\times 7=252\\
b&amp;=2\times 3^3\times 5=270\\
b-a&amp;=2\times 3^3\times 5-2^2\times 3^2\times 7\\
&amp;=2\times 3^2\times (3\times 5-2\times 7)\\
&amp;=2\times 3^2\times 1
\end{aligned}
\]</span> 两个互质的数相减，得到的数也和小的那个数互质（<a target="_blank" rel="noopener" href="https://math.stackexchange.com/questions/2456631/if-two-numbers-are-relatively-prime-is-their-sum-relatively-prime-to-one-of-the">证明</a>）。<span class="math inline">\(gcd(a,b)=gcd(b,a-b)=1\)</span>.</p>
<p>如果<span class="math inline">\(a-b&gt;b\)</span>，那么就继续相减到<span class="math inline">\(a-b&lt;b\)</span>为止，所以直接<span class="math inline">\(gcd(a,b)=gcd(b,a\bmod b)\)</span>.</p>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> tmp;</span><br><span class="line">    <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">        tmp = a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = tmp % b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="最小公倍数least-common-multiple">最小公倍数（Least Common Multiple）</h3>
<p>考虑两个数<span class="math inline">\(a\)</span>，<span class="math inline">\(b\)</span>，将这两个数分解质因数 <span class="math display">\[
\begin{aligned}
a&amp;=2^2\times 3^2\times 7=252\\
b&amp;=2\times 3^3\times 5=270
\end{aligned}
\]</span> 这两个数的最大公因数（Greatest Common Divisor）就是它们质因数的<strong>交集</strong>的乘积 <span class="math display">\[
gcd(252,270)=2\times 3^2
\]</span> 考虑最小公倍数的性质。最小公倍数必须被<span class="math inline">\(a\)</span>或<span class="math inline">\(b\)</span>​整除，也就是说最小公倍数必须同时包含这两数的所有质因数，所以是它们质因数的<strong>并集</strong>的乘积。怎样得到这个乘积？<span class="math inline">\(a\times b\)</span>，然后容斥除掉共同的质因数<span class="math inline">\(gcd(a,b)\)</span>就好了。 <span class="math display">\[
\begin{aligned}
lcm(252,270)&amp;=\dfrac{252\times 270}{gcd(252,270)}\\
&amp;=\dfrac{2^2\times 3^2\times 7\times 2\times 3^3\times 5}{2\times 3^2}\\
&amp;=3780
\end{aligned}
\]</span> 实际编程中一般先除后乘，防止溢出。</p>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">lcm</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / <span class="built_in">gcd</span>(a, b) * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cf1601a-array-elimination">CF1601A Array Elimination</h2>
<p>拿到题目简单分析一下：按位取AND，任意下标选择。所以其实数组的排列以及二进制下每一位整体的排列都不重要。由于取AND的性质，每次消去操作对于某一位来说要么消去<span class="math inline">\(k\)</span>个1要么无影响。所以，实际上每一位内部0和1是怎样排布的也无任何影响。</p>
<p>那问题就很简单了，某个<span class="math inline">\(k\)</span>能够单独消掉每一位的所有1，就等价于能消掉所有位。设第<span class="math inline">\(i\)</span>位有<span class="math inline">\(n_i\)</span>个1，则对任意<span class="math inline">\(i\)</span>需满足<span class="math inline">\(k\mid n_i\)</span>. 也就是说<span class="math inline">\(k\bmod gcd(\{n\})=0\)</span>.</p>
<h2 id="cf1515a-phoenix-and-gold">CF1515A Phoenix and Gold</h2>
<p>从反面分析，假如现在有长为<span class="math inline">\(k\)</span>的重量子序列使得<span class="math inline">\(\sum\limits_{j = 1}^{k}w_j = x\)</span>，那么要避免这种情况只需要从余下的重量中找出一个不等于<span class="math inline">\(w_k\)</span>的重量替换即可。由于该子序列可以任意重新排列，所以只要子序列中任意两项不相等就一定可以找到符合要求的排列。综上，无法避免的情况为整个序列全部相等，且存在<span class="math inline">\(i\)</span>使得<span class="math inline">\(\sum\limits_{j = 1}^{i}w_j = x\)</span>；或者此时已经没有可用于替换的重量了，也即<span class="math inline">\(\sum\limits_{j = 1}^{n}w_j = x\)</span>.</p>
<p>具体怎么实现呢？我又卡了。因为我没注意到这句话：</p>
<blockquote>
<p>It is guaranteed that the weights are <strong>pairwise distinct</strong>.</p>
</blockquote>
<p>所以其实只要看后一种情况是否出现就好了，否则都是可以的。我们从前往后加，如果遇到放不了的就先放它的下一个就好了。</p>
<p>我说为啥800难度的会这么复杂。</p>
<h2 id="cf1515c-phoenix-and-towers">CF1515C Phoenix and Towers</h2>
<p>不允许任意两个塔楼高度差严格大于<span class="math inline">\(x\)</span>，相当于不允许最高的塔楼和最低的塔楼的高度差严格大于<span class="math inline">\(x\)</span>. 联系<span class="math inline">\(1 \le h_i \le x\)</span>的条件，如果高度差大于<span class="math inline">\(x\)</span>，超出的部分必定不止一个块。那么此时显然可以把多出来的那些块补到最低的塔楼上面。因此，不存在无法达到要求的情况。</p>
<p>然后就不知道怎么写了。</p>
<p>官方题解：上述那种情况是因为有一次或以上未把块加到当前最矮的塔楼上，因此只需一直贪心把块加到当前最矮的塔楼即可。</p>
<h2 id="cf1606c-banknotes">CF1606C Banknotes</h2>
<p>某面值的钞票数量不能比较它更大一级的一张钞票能表示的还多 <span class="math display">\[
10^{a_{i+1}}&gt;x_i\cdot 10^{a_i}
\]</span> 所以 <span class="math display">\[
x_i\leq \frac{10^{a_{i + 1}}}{10^{a_i}} - 1
\]</span> 所以我们只需要贪心给到<span class="math inline">\(x_i=\min(\mathit{left}, \frac{10^{a_{i + 1}}}{10^{a_i}} - 1)\)</span>，其中<span class="math inline">\(left\)</span>是剩余可以分配的钞票数目。</p>
<h2 id="cf1610c-keshi-is-throwing-a-party">CF1610C Keshi Is Throwing a Party</h2>
<p>考虑从穷到富决策是否邀请第<span class="math inline">\(i\)</span>个人，我们需要知道邀请后是否满足要求。我们从穷到富枚举所以前面有多少比他穷的人已经确定了，但是我们并不知道后面还会邀请多少比他富的人。所以这里还缺个信息：我们一共要邀请多少个人？这就又增加一个变量，整体时间复杂度达到<span class="math inline">\(O(n^2)\)</span>，我们需要用二分优化。</p>
<p>为什么呢？题目要求的是输出<strong>最大的</strong>能邀请的人数，而如果能邀请人数<span class="math inline">\(n\)</span>，那么也一定能邀请比<span class="math inline">\(n\)</span>小的人数。所以人数是从0开始连续增大的（<strong>单调性</strong>），某人数下无法邀请那么比该人数还大时也无法邀请（<strong>局部舍弃性</strong>）。</p>
<h2 id="p1439-模板最长公共子序列">P1439 【模板】最长公共子序列</h2>
<p>这题虽然是个模板题，但是解法还是挺有趣的。</p>
<p>首先能想到的应该是DP（好吧这就是动态规划模板题）。注意到子序列不要求相邻。那么我们从前往后，分别枚举找两个序列的前 <span class="math inline">\(i,j\)</span> 位的最长公共子序列，然后加上记忆化试试：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@lru_cache(<span class="params">maxsize=<span class="number">10000</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">LCS</span>(<span class="params">i, j</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> j == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> arr1[i] == arr2[j]</span><br><span class="line">    <span class="keyword">if</span> arr1[i] == arr2[j]:</span><br><span class="line">        <span class="keyword">return</span> LCS(i-<span class="number">1</span>, j-<span class="number">1</span>)+<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(LCS(i-<span class="number">1</span>, j), LCS(i, j-<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>（由于在准备蓝桥杯所以就用 Python 写了）</p>
<p>交上去以后发现不行，显然空间时间都是<span class="math inline">\(O(n^2)\)</span>，太大了。</p>
<p>如果转换成自底向上的<code>for</code>循环模式写，可以很容易优化一下空间。具体来说就是滚动数组，只把当前时刻需要的状态保留</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dp = [[<span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(n+<span class="number">1</span>)] <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> arr1[i] == arr2[j]:</span><br><span class="line">            dp[i % <span class="number">2</span>][j] = <span class="built_in">max</span>(dp[i % <span class="number">2</span>][j], dp[(i % <span class="number">2</span>) ^ <span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dp[i % <span class="number">2</span>][j] = <span class="built_in">max</span>(dp[(i % <span class="number">2</span>) ^ <span class="number">1</span>][j], dp[i % <span class="number">2</span>][j-<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(dp[n % <span class="number">2</span>][n])</span><br></pre></td></tr></table></figure>
<p>空间优化成了<span class="math inline">\(O(n)\)</span>，但是时间仍然是<span class="math inline">\(O(n^2)\)</span>. 有一半的测试点超时。</p>
<p>这时候算法本身已经没有什么好优化的了。但是你可能感觉有点奇怪，题目中有一个条件我们还没有用到</p>
<blockquote>
<p>给出 <span class="math inline">\(1,2,\ldots,n\)</span> 的两个排列 <span class="math inline">\(P_1\)</span> 和 <span class="math inline">\(P_2\)</span></p>
</blockquote>
<p>这两个数列是排列数，也就是 <span class="math inline">\(1\)</span> 到 <span class="math inline">\(n\)</span> 的每个数都出现且仅出现一次。</p>
<p>从我们上面提到的子序列的要求来看，如果 <span class="math inline">\(P_2\)</span> 是单调递增的数列（也就是它的子序列一定是单调递增的），那么 <span class="math inline">\(P_1\)</span> 中若有它的公共子序列，这个子序列显然得是单调递增的。结合 <span class="math inline">\(P_2\)</span> 是排列数的条件，<span class="math inline">\(P_2\)</span> 一定形如 <span class="math inline">\(\left\{ 1, 2, 3, \cdots, n \right\}\)</span>，所以 <span class="math inline">\(P_1\)</span> 中单调递增的子序列就一定是这两个序列的公共子序列。</p>
<p>如何把 <span class="math inline">\(P_2 = \left\{ 1, 2, 3, \cdots, n \right\}\)</span> 推广到更一般的情况呢？回到这道题中，注意到这里面的数字其实<strong>只是一个符号</strong>，我们完全可以用任何符号代替某个数字。也就是说，我们可以直接拿 <span class="math inline">\(1, 2, 3, \cdots, n\)</span> 映射到 <span class="math inline">\(P_2\)</span> 中对应位置的数字，然后把两个数列都按照这种规则替换。通过这种做法，我们人为地引入了<strong>单调性</strong>。</p>
<p>这时候，问题就转化成了求 <span class="math inline">\(P_1\)</span> 中的最长的单调递增子序列（longest increasing subsequence, LIS）。</p>
<p>LIS 怎么求解？最简单的方式还是直接 DP</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@lru_cache(<span class="params">maxsize=<span class="number">10000</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">LIS</span>(<span class="params">i</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    res = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, i):</span><br><span class="line">        <span class="keyword">if</span> marr[j] &lt; marr[i]:</span><br><span class="line">            res = <span class="built_in">max</span>(res, LIS(j)+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>([LIS(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>)]))</span><br></pre></td></tr></table></figure>
<p>但是时间复杂度仍然是<span class="math inline">\(O(n^2)\)</span>，所以介绍一种<span class="math inline">\(O(n\log n)\)</span>的算法。</p>
<p>设输入的数组为<span class="math inline">\(\left\{a_1, a_2, \cdots, a_n\right\}\)</span>，令<span class="math inline">\(A_{i,j}\)</span>为在前<span class="math inline">\(i\)</span>个数字中，长为<span class="math inline">\(j\)</span>的上升子序列的末位之中的最小值。那么显然对于任意给定的<span class="math inline">\(i\)</span>且<span class="math inline">\(j&lt;J_i\)</span>，有 <span class="math inline">\(A_{i, j}&lt;A_{i, j+1}\)</span>.</p>
<p>我们现在枚举数组的第<span class="math inline">\(i\)</span>位，假设我们要找以<span class="math inline">\(a_{i+1}\)</span>为结尾的最长的上升子序列。很自然的想法是我们要把<span class="math inline">\(a_{i+1}\)</span>附到它前面尽可能长的上升子序列的末尾。所以我们需要找到临界值<span class="math inline">\(j\)</span>，使得 <span class="math display">\[
A_{i,j} &lt; a_{i+1} \leq A_{i,j+1} (j \leq J_i-1)\\
A_{i,j} &lt; a_{i+1} (j=J_i)
\]</span> 则<span class="math inline">\(a_{i+1}\)</span>刚好可以附到<span class="math inline">\(A_{i,j}\)</span>所代表的那个子序列末尾了。 <span class="math display">\[
A_{i+1,j+1}=a_{i+1}
\]</span> 这时我们还发现，剩余的<span class="math inline">\(A_{i,k}\)</span>要么已经比<span class="math inline">\(a_{i+1}\)</span>小了，要么比<span class="math inline">\(a_{i+1}\)</span>大即不满足单调性，因此对于<span class="math inline">\(k \neq j+1\)</span>有 <span class="math display">\[
A_{i+1,k}=A_{i,k}
\]</span> 怎样找到临界值<span class="math inline">\(j\)</span>呢？由于<span class="math inline">\(A_{i,j}\)</span>的单调性，我们直接二分搜索即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bisect <span class="keyword">import</span> bisect_left</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_ints</span>(): <span class="keyword">return</span> <span class="built_in">map</span>(<span class="built_in">int</span>, sys.stdin.readline().strip().split())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[n] = get_ints()</span><br><span class="line">a = [<span class="number">0</span>] + <span class="built_in">list</span>(get_ints())</span><br><span class="line">b = [<span class="number">0</span>] + <span class="built_in">list</span>(get_ints())</span><br><span class="line"><span class="built_in">map</span> = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">enumerate</span>(a):</span><br><span class="line">    <span class="built_in">map</span>[v] = i</span><br><span class="line"></span><br><span class="line">f = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">    pos = bisect_left(f, <span class="built_in">map</span>[b[i]])</span><br><span class="line">    <span class="keyword">if</span> pos == <span class="built_in">len</span>(f):</span><br><span class="line">        f.append(<span class="built_in">map</span>[b[i]])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        f[pos] = <span class="built_in">map</span>[b[i]]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(f))</span><br></pre></td></tr></table></figure>
<h2 id="p2419-cow-contest">P2419 Cow Contest</h2>
<p>首先观察题目要求，可得排名可以确定的奶牛的定义为：如果奶牛 <span class="math inline">\(i\)</span> 的排名确定为 <span class="math inline">\(r\)</span> 则必定有 <span class="math inline">\(r-1\)</span> 只奶牛与它直接或间接地比赛并获胜，<span class="math inline">\(N-r\)</span> 只奶牛与它直接或间接地比赛并失败。</p>
<p>从定义直接想到，我们可以枚举奶牛（节点），然后递归找比它强的和比它弱的，如果两者数目加起来为 <span class="math inline">\(N-1\)</span> 则满足要求。仔细思考一下，其实不需要递归，我们从入度为 0 和出度为 0 的点开始，累加途中的点并记录即可。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/09/07/xor-value-of-the-first-n-natural-numbers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/07/xor-value-of-the-first-n-natural-numbers/" class="post-title-link" itemprop="url">求前 n 个自然数的异或值</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-07 21:01:00" itemprop="dateCreated datePublished" datetime="2021-09-07T21:01:00+08:00">2021-09-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>时间复杂度 <span class="math inline">\(O(1)\)</span> ，分为感性认识和理性认识。</p>
<p>如无特别注明，下文所指均为二进制下的数位。按位逻辑运算符号表在<a target="_blank" rel="noopener" href="https://imzlp.com/posts/23224/#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97">此处</a>。</p>
<h2 id="感性认识">感性认识</h2>
<p>由于 <span class="math inline">\(0\oplus 1=1\)</span>，问题也可以转化成求 <span class="math inline">\([1, n]\)</span> 的异或值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Number Binary-Repr  XOR-from-1-to-n</span><br><span class="line">1         1           [0001] 1</span><br><span class="line">2        10           [0011] 3</span><br><span class="line">3        11           [0000] 0  &lt;----- We get a 0</span><br><span class="line">4       100           [0100] 4  &lt;----- Equals to n</span><br><span class="line">5       101           [0001] 1</span><br><span class="line">6       110           [0111] 7</span><br><span class="line">7       111           [0000] 0  &lt;----- We get 0</span><br><span class="line">8      1000           [1000] 8  &lt;----- Equals to n</span><br><span class="line">9      1001           [0001] 1</span><br><span class="line">10     1010           [1011] 11</span><br><span class="line">11     1011           [0000] 0  &lt;------ We get 0</span><br><span class="line">12     1100           [1100] 12 &lt;------ Equals to n</span><br></pre></td></tr></table></figure>
<p>所以我们可以这么写：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to find XOR of numbers</span></span><br><span class="line"><span class="comment">// from 1 to n.</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Method to calculate xor</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">computeXOR</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   </span><br><span class="line">  <span class="comment">// If n is a multiple of 4</span></span><br><span class="line">  <span class="keyword">if</span> (n % <span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// If n%4 gives remainder 1</span></span><br><span class="line">  <span class="keyword">if</span> (n % <span class="number">4</span> == <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// If n%4 gives remainder 2</span></span><br><span class="line">  <span class="keyword">if</span> (n % <span class="number">4</span> == <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// If n%4 gives remainder 3</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Driver method</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int</span> n = <span class="number">5</span>;</span><br><span class="line">  cout&lt;&lt;<span class="built_in">computeXOR</span>(n);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// This code is contributed by rutvik_56.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="理性认识">理性认识</h2>
<p>记 <span class="math inline">\(f(x,\ y)\)</span> 为 <span class="math inline">\(x\)</span> 到 <span class="math inline">\(y\)</span> 的所有整数的异或值。</p>
<p>现在考虑 <span class="math inline">\(f(2^k,\ 2^{k+1}-1)\)</span>. 令 <span class="math inline">\(k\geq 1\)</span>，则 <span class="math inline">\(2^k\)</span> 为偶数。且这里面的 <span class="math inline">\(2^k\)</span> 个数从左往右第 <span class="math inline">\(k+1\)</span> 位（最高位）都为 <span class="math inline">\(1\)</span>. 再结合异或运算法则我们就知道，将这 <span class="math inline">\(2^k\)</span> 个数的最高位去掉，异或值不变。也就是说， <span class="math display">\[
f(2^k,\ 2^{k+1} -1) = f(2^k - 2^k,\ 2^{k+1} -1 -2^k) = f(0,\ 2^k -1).
\]</span> 所以， <span class="math display">\[
\begin{aligned}
f(0,\ 2^{k+1} -1)&amp;=f(0,\ 2^k -1)\oplus f(2^k,\ 2^{k+1} -1)\\
&amp;=f(0,\ 2^k -1)\oplus f(0,\ 2^k -1)\\
&amp;=0.
\end{aligned}
\]</span> 也就是， <span class="math display">\[
f(0,\ 2^k - 1) = 0\ (k &gt;= 2).
\]</span></p>
<p>对于 <span class="math inline">\(f(0,\ n)\ (n\geq 4)\)</span> ，设 <span class="math inline">\(n\)</span> 的最高位在第 <span class="math inline">\(k\)</span> 位 <span class="math inline">\((k \geq 2)\)</span>. 则 <span class="math display">\[
f(0,\ n) = f(0,\ 2^k - 1)\oplus f(2^k,\ n) = f(2^k,\ n).
\]</span> <span class="math inline">\([2^k,\ n]\)</span> 共有 <span class="math inline">\(n+1-2^k\)</span> 个数，设为 <span class="math inline">\(m\)</span>. 这些数的第 <span class="math inline">\(k\)</span> 位（最高位）共有 <span class="math inline">\(m\)</span> 个 <span class="math inline">\(1\)</span>.</p>
<p><strong>(a)</strong> 当 <span class="math inline">\(n\)</span> 为奇数时，<span class="math inline">\(m\)</span> 为偶数，则最高位有偶数个 <span class="math inline">\(1\)</span> ，所以 <span class="math display">\[
f(0,\ n) = f(2^k,\ n) = f(0,\ n - 2^k).
\]</span> 且 <span class="math inline">\(n-2^k\)</span> 与 <span class="math inline">\(n\)</span> 同奇偶，我们可以递推： <span class="math display">\[
f(0,\ n) = f(0,\ n - 2^k) = f(0,\ n - 2^k - 2^{k-1}) = \cdots = f(0,\ n \bmod 4).
\]</span> 注：<span class="math inline">\(n\geq4\)</span>. 每一步递推都将最高位去掉。</p>
<p>当 <span class="math inline">\(n \bmod 4= 1\)</span> 时， <span class="math inline">\(f(0,\ n) = f(0,\ 1) = 1\)</span>.</p>
<p>当 <span class="math inline">\(n \bmod 4 = 3\)</span> 时， <span class="math inline">\(f(0,\ n) = f(0,\ 3) = 0\)</span>.</p>
<p><strong>(b)</strong> 当 <span class="math inline">\(n\)</span> 为偶数时，<span class="math inline">\(m\)</span> 为奇数，则最高位有奇数个 <span class="math inline">\(1\)</span> ，所以 <span class="math display">\[
f(0,\ n) = f(2^k,\ n) = f(0,\ n - 2^k) \vee 2^k.
\]</span> 注：最高位的 <span class="math inline">\(1\)</span> 我们先提出来，最后用取或（<span class="math inline">\(\vee\)</span>）加回去。</p>
<p>像<strong>(a)</strong>那样递推时，我们会发现每一步都保留了当前最高位，所以除了 <span class="math inline">\(n\)</span> 的最后两位其余都会被保留下来，我们记这个数为 <span class="math inline">\(n&#39;\)</span>. <span class="math display">\[
f(0,\ n) = f(2^k,\ n) = f(0,\ n \bmod 4) \vee n&#39;.
\]</span></p>
<p>当 <span class="math inline">\(n \bmod 4=0\)</span> 时 <span class="math inline">\(n\)</span> 的后两位是 <span class="math inline">\(00\)</span>，所以 <span class="math inline">\(n=n&#39;\)</span>. <span class="math display">\[
f(0,\ n) = f(0,\ n \bmod 4) \vee n&#39; = f(0,\ 0) \vee n = n.
\]</span> 当 <span class="math inline">\(n \bmod 4 = 2\)</span> 时 <span class="math inline">\(n=n&#39;+2\)</span>，所以 <span class="math display">\[
\begin{aligned}
f(0,\ n) &amp;= f(0,\ n \bmod 4) \vee n&#39;\\
&amp;=f(0,\ 2) \vee n&#39;\\
&amp;=3 \vee n&#39;\\
&amp;=3 \vee 2 \vee n\\
&amp;=n+1.
\end{aligned}
\]</span> 综上所述， <span class="math display">\[
f\left( 0,\ n\right) =\left\{
\begin{array}{l}
n&amp;, n \bmod 4=0\\
1&amp;, n \bmod 4=1\\
n+1&amp;, n \bmod 4=2\\
0&amp;, n \bmod 4=3.
\end{array}
\right.
\]</span> Q.E.D.</p>
<h2 id="参考文献">参考文献</h2>
<ol type="1">
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/flyinghearts/archive/2011/03/22/1992001.html">求1到n这n个整数间的异或值 （O(1)算法)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/calculate-xor-1-n/">Calculate XOR from 1 to n - GeeksforGeeks</a> （异或值表格及代码）</li>
<li><a target="_blank" rel="noopener" href="https://siukwan.sinaapp.com/?p=883">问题：求1到n这n个整数间的异或值，即 1 xor 2 xor 3 … xor n</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/09/01/dp-being-both-independent-and-overlapping/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/01/dp-being-both-independent-and-overlapping/" class="post-title-link" itemprop="url">如何看待「动态规划问题既独立又重叠」</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-01 21:23:00" itemprop="dateCreated datePublished" datetime="2021-09-01T21:23:00+08:00">2021-09-01</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这篇文章的起因是《算法导论》中的一段话：</p>
<blockquote>
<p>"It may seem strange that dynamic programming relies on subproblems being both independent and overlapping. Although these requirements may sound contradictory, they describe two different notions, rather than two points on the same axis. Two subproblems of the same problem are independent if they do not share resources. Two subproblems are overlapping if they are really the same subproblem that occurs as a subproblem of different problems" (CLRS 3rd edition, 386).</p>
</blockquote>
<p>这里的independent和overlap都是啥意思呢？下面是我查了StackOverflow以后得到的结果：</p>
<p>「独立」的意思是说：如果我们说一个解是最优的，那么这个最优的性质并不依赖任何我们要解决的母问题。也就是说不管我们是为了哪个更大的问题来解这个子问题，都会得到这个解。举个简单的例子：从A到B的最短路径经过C，那么我直接求从A到C的最短路径，后者答案应该是前者答案的一部分。这就是最优子结构(optimal substructure)的定义。</p>
<p>「重叠」的意思就很自然：不同的子问题会解多个子子问题，而其中很多子子问题是重复的。有意思的是由于我们刚才的「独立」性质，这些重复的子子问题就算有不同的母问题，他们的解也应该是相同的。因此我们就可以开个数组把这些解存下来。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/08/21/emacs_note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/21/emacs_note/" class="post-title-link" itemprop="url">Emacs 学习笔记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-21 17:28:00" itemprop="dateCreated datePublished" datetime="2021-08-21T17:28:00+08:00">2021-08-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近有了在终端中SSH远程开发的需求，又想起之前看别人写代码时用Vim或Emacs灵活地在编辑器中定位，羡慕手不离开键盘的效率，于是决定好好学一下Emacs。</p>
<h2 id="为什么选择emacs">为什么选择Emacs</h2>
<p>之前由于时不时需要在GNU/Linux里面编辑一些配置（比如配置vps），所以很简单地学了一下Vi的使用方法，但也仅限于会上下左右、会进Insert mode、会按:wq保存退出的水平。但是之前也听说过Emacs，所以我去搜了一下Emacs和Vim的区别和各自的使用场景，大致如下：</p>
<ul>
<li>Vim和Emacs的运行环境不同。原版Vim只提供命令行界面（CLI, Command line interface），而Emacs提供GUI和CLI两种。这也侧面体现出不装插件的状态下Vim更像是一个记事本类的编辑器小工具，而Emacs倾向提供一套软件开发的环境。若在命令行下使用Emacs会有小部分功能缺失：部分快捷键被终端占据、浏览器无法显示图片、Emoji支持由终端提供等。</li>
<li>Vim相对Emacs轻量，内置的功能较少：Emacs内置了文件浏览器、Git客户端、终端甚至一个简单的浏览器。所以使用Emacs写代码很大程度上是“开箱即用”的，最多只需要装一些自动补全相关的插件。而Vim只有基本的编辑功能，所以若不自行安装插件功能性就差一些。</li>
<li>Vim和Emacs的操作方式不同。Vim使用三种模式，以使用户在大多数时候避免使用组合键。但与此同时在各个模式间切换也增加了时间成本。Emacs则只有编辑模式，组合键的使用非常普遍，使用过程中经常需要按Ctrl/Command键（可以通过按键映射将大小写和Ctrl互换以减轻小指压力）。不过，现在很多人选择使用evil插件来在Emacs中实现Vim的编辑模式，反过来似乎也有。</li>
<li>Vim的扩展性不如Emacs。Vim的插件采用Vim Script编写，Emacs的插件采用Emacs Lisp编写。Lisp起源于1958年，是当前广泛使用的编程语言中最老的之一。再加上Emacs的GUI提供的自由度，你可以通过安装插件在Emacs中收发邮件、听音乐甚至剪辑视频。而在语言支持相关的插件方面两者都非常完善了。</li>
</ul>
<p>看到Emacs有这么多功能，再加上以前对Lisp有所耳闻，最后决定学Emacs。</p>
<h2 id="学习路线">学习路线</h2>
<ol type="1">
<li>看官方Tutorial（有中文翻译版）</li>
<li>打印Reference Card，时不时看一遍。遇到某个键忘记了就速查。</li>
<li>尝试逐渐将日常开发切换到Emacs上，逐渐形成肌肉记忆</li>
</ol>
<h2 id="一些知识点">一些知识点</h2>
<p>有些知识点Tutorial没有讲到或者讲了但是我没完全理解，在此记录一下。</p>
<h3 id="buffer和window">Buffer和Window</h3>
<p>刚看完tutorial的时候一直没搞清楚buffer和window的关系是什么，后面发现关键是Emacs的一个设计思想：数据与UI解绑。我们通常使用Visual Studio Code这类编辑器的时候都是一个正在编辑的文件（数据）对应一个打开的窗口。但是Emacs不是这样。正在编辑还未保存的文件内容和buffer对应，然后一个frame中显示的区域和window对应。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/08/06/config-mingw64-for-vs-code-on-windows/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/06/config-mingw64-for-vs-code-on-windows/" class="post-title-link" itemprop="url">在 Windows 上配置 VS Code 与 C++ 开发环境</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-06 19:59:52" itemprop="dateCreated datePublished" datetime="2021-08-06T19:59:52+08:00">2021-08-06</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="背景知识">背景知识</h2>
<p>Visual Studio Code 与 Visual Studio、IDEA 等有着本质上的不同：前者为文本编辑器，而后者为 IDE（集成开发环境）。IDE 以语言为中心，为语言打造最贴身的开发工具，而编辑器只负责编辑，其他的功能都得由插件实现。但是编辑器相对于 IDE 来说</p>
<ol type="1">
<li>更加轻量、快速，尤其是存储空间上二者甚至能差好几个数量级。</li>
<li>跨语言开发时能最大限度地保留写代码的习惯。</li>
<li>底层原理对使用者更透明，有利于新手了解编译等过程。</li>
</ol>
<h2 id="准备工作">准备工作</h2>
<ol type="1">
<li><p>安装 <a target="_blank" rel="noopener" href="https://code.visualstudio.com/download">Visual Studio Code</a></p></li>
<li><p>转到 VS Code 侧边栏中 Extension 这个 tab，搜索安装插件 <a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-zh-hans">适用于 VS Code 的中文（简体）语言包</a></p></li>
<li><p>安装插件 <a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools-extension-pack">C/C++ Extension Pack</a>.</p></li>
<li><p>下载编译好的 <a target="_blank" rel="noopener" href="http://mingw-w64.org/">Mingw-w64</a> 工具链（包含了最新的 GCC C++ 编译器）。</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://winlibs.com/">WinLibs 编译版</a></p>
<ul>
<li>GCC 11.3.0 + MinGW-w64 10.0.0 (UCRT) - release 3: <a target="_blank" rel="noopener" href="https://github.com/brechtsanders/winlibs_mingw/releases/download/11.3.0-14.0.3-10.0.0-ucrt-r3/winlibs-i686-posix-dwarf-gcc-11.3.0-mingw-w64ucrt-10.0.0-r3.7z">7-Zip 压缩包</a> | <a target="_blank" rel="noopener" href="https://github.com/brechtsanders/winlibs_mingw/releases/download/11.3.0-14.0.3-10.0.0-ucrt-r3/winlibs-i686-posix-dwarf-gcc-11.3.0-mingw-w64ucrt-10.0.0-r3.zip">Zip 压缩包</a></li>
</ul></li>
<li><p><a target="_blank" rel="noopener" href="https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/8.1.0/threads-posix/sjlj/x86_64-8.1.0-release-posix-sjlj-rt_v6-rev0.7z">SourceForge 官方编译（GCC 8.1.0，已长期不更新，不推荐）</a></p></li>
</ul></li>
</ol>
<h2 id="配置-mingw">配置 MingW</h2>
<ol type="1">
<li>用 <a target="_blank" rel="noopener" href="https://www.7-zip.org/">7-Zip</a> 或其他解压软件解压下载的 Mingw-w64 工具链，将 mingw64 复制到 C 盘根目录下。</li>
<li>按下组合键 Win+R，输入 <code>sysdm.cpl</code>，选择高级 - 环境变量，在系统变量下找到 <code>Path</code> 这一行双击。</li>
<li>点击新建，输入 <code>C:\mingw64\bin</code> 。然后一路确认。</li>
<li>按下组合键 Win+R，输入 <code>cmd</code>，在命令行中输入 <code>gcc --version</code> 并回车，查看是否成功显示 gcc 版本。</li>
</ol>
<p><strong>Side note: 为什么要这样做？</strong></p>
<p>刚才你将 mingw64 的可执行文件（binary）目录添加到了环境变量 <code>PATH</code> 中。在cmd等终端下运行可执行文件时，如果在当前目录找不到这个名称的文件，命令行就会自动从上到下在 <code>PATH</code> 环境变量中的目录寻找。这样，即使编辑器不知道我们把 mingw 放在哪里，也可以正常运行编译命令。</p>
<h2 id="配置编译生成">配置编译生成</h2>
<ol type="1">
<li><p>打开 VS Code，点击<code>打开文件夹</code>，并选择一个你想存放代码的文件夹。</p></li>
<li><p>新建配置文件夹 <code>.vscode</code>，新建 <code>tasks.json</code> 保存如下内容</p></li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppbuild&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++.exe build active file&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\mingw64\\bin\\g++.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$gcc&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Task generated by Debugger.&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li><p>新建一个文件，命名为 <code>helloworld.cpp</code>，并保存如下代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;string&gt; msg &#123;<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;C++&quot;</span>, <span class="string">&quot;World&quot;</span>, <span class="string">&quot;from&quot;</span>, <span class="string">&quot;VS Code&quot;</span>, <span class="string">&quot;and the C++ extension!&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> string&amp; word : msg)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; word &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>此时按下 Ctrl+Shift+B 或者点选 <strong>终端</strong> &gt; <strong>运行生成任务</strong>，您可以看到 <strong>终端</strong> 选项卡弹出，并自动执行编译命令。</p></li>
<li><p>用 + 按钮新建一个终端窗口并运行 <code>.\helloworld.exe</code>，此时您可以看到 Hello World 信息。</p></li>
</ol>
<h2 id="配置调试">配置调试</h2>
<ol type="1">
<li><p>在顶部菜单栏，选择<strong>运行</strong> &gt; <strong>添加配置...</strong> &gt; <strong>C++ (GDB/LLDB)</strong>.</p></li>
<li><p>粘贴如下内容至打开的 <code>launch.json</code>:</p></li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++.exe build and debug active file&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\mingw64\\bin\\gdb.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Enable pretty-printing for gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++.exe build active file&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li><p>鼠标移动到行数指示器左侧，您可以看到红色圆点，单击后即为在该行下断点。调试时程序会运行到这一行前并停下。</p>
<p>请在第 9 行下断点。</p></li>
<li><p>按下 <code>F5</code> 或者点选 <strong>运行</strong> &gt; <strong>开始调试</strong>，这时候您可以看到程序在第 9 行停下，请自行探索窗口上部出现的调试工具。</p></li>
</ol>
<h2 id="进阶设置">进阶设置</h2>
<p>插件</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=vscodevim.vim">Vim 模拟</a></li>
<li><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=DivyanshuAgrawal.competitive-programming-helper">Competitive Programming Helper</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/07/22/introspection-of-2021-college-entrance-examination/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/22/introspection-of-2021-college-entrance-examination/" class="post-title-link" itemprop="url">2021年高考反思</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-22 23:13:35" itemprop="dateCreated datePublished" datetime="2021-07-22T23:13:35+08:00">2021-07-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="对自己学习成果的评价">对自己学习成果的评价</h2>
<p>2021年高考结束了，结果也已经大体尘埃落定。我终于不得不面对自己的一个个选择所带来的命运。在反思高中学习过程的时候，我发现一个重大问题。我基本上一直用这三个假设面对学习：</p>
<ol type="1">
<li>一个人生来就必定有一个其擅长学习的知识领域。</li>
<li>只要选取了正确的学习方法，艰涩的知识也会变得简单。</li>
<li>一个人想要检验自己的学习成果，只需扪心自问自己是否真正理解了这些知识。</li>
</ol>
<p>在追溯这三假设的来源之前不得不说，这三条假设写出来一看真是错得离谱。第一条根本没有任何科学实验证实，因为「擅长学习」本来就是未定义的。当然在这里不是，因为已经被第三条定义了。第二条虽说看起来没什么问题，但是仔细一想就会发现：各种学习方法之间的学习效果根本没有纳入考量的范围内（就算考量投入产出也会用第三条吧）。难道单凭「简单」就算是正确的学习方法吗？第三条是最离谱的：「扪心自问」能问出什么来？是10%的理解还是50%的理解又或者是100%的理解？更不用说对于「是否理解」这个问题本身就是完全主观的。我今天觉得理解了，很可能明天忘了一部分又或者看到一道难题，就又觉得自己不够理解。如此糟糕的评价标准还支撑着另外两个假设，这直接就让我这整一套学习假设彻底地失败了。</p>
<p>然而不幸的是，我一年多来一直秉持着这样的态度指导自己的学习。原因很简单：学习本来就是一件很艰辛的事情。无论是3Blue1Brown做的可视化科普视频，还是费曼对物理学的精彩表述，都只不过是科学自身美感的表现。问题在于学生的目的是成为那个画家（不论其能不能画出名画），而不是名画前的观众。能欣赏一幅画自然能激发一个人学习画画的决心，但是如果他只想着欣赏别人的画作却懒得自己动笔，他永远也当不了画家。而我以前正是这样的人。每个人没有外界附加条件下，都会默认选择懒惰、舒适。结果我就走进了我给自己树立的那三条互相佐证的圈子里，在没认清形势之前，面对别人的劝说一时走不出来了。</p>
<p>至于这三条假设是怎么形成的，我也已经说不清了。事实上这并不是那一天忽然听说或想到的，只是长期的心理暗示的结果。从高二开始我就乐于在网上看各种优质的科普视频（是的很优质，但它终究还是科普）以及自己探究各种难以理解的物理概念。但不止这点。我之前或许也提到过，我很看重「自我认同」，并且觉得这是解决一切内卷问题的良药。那种所谓的，一个人只需要认清楚自己的人生价值并为之努力，即便是粗茶淡饭也「不改其乐」的You only live once（你只活一次/及时行乐）的思想深深影响了我。这就是我把「扪心自问自己是否理解」当成评价标准的根源：我讨厌追求那些「世俗的」分数，因为那些都是身外的评价。但是我却没意识到，「自我」也是会变化的，就像是一年前这时候的自己肯定也想不到有一天他会因为高考和大学这种「世俗的事情」而发愁吧。现在我明白，生活不是一条笔直的单行道，而是一个复杂的、永远都在自我折叠的迷宫。</p>
<p>那么以后如何防止这样的情况呢？其实很简单：多审视自己对自己的评价方式，仔细分析这样的评价方式是否可靠：是否有较高的稳定性？在各种情况下能不能保持一致？是不是正在循环论证，让自己自我感动？</p>
<h2 id="对效率的追求">对效率的追求</h2>
<p>现在想起来，我在高中时期考试时的速度和平时写题的速度之间差异巨大。尤其是理科以及文科的作文。为什么会这样呢？原因无非就是我注意力不集中，精神涣散。但是高三后期考试考多了，考年级内的周测都开始逐渐放松下来。</p>
<h2 id="对远景目标的敏感度">对远景目标的敏感度</h2>
<p>如果回到刚入高三时一个我不想写作业的下午，我可能会劝那时候的自己：你一年以后就要高考了！可是这多半是徒劳的，因为当时我是这么看待这个问题的：高考是远在一年后的事，而眼下我不要两个小时就能折腾完这个平板，这么微不足道的小事又能引起什么后果呢？</p>
<p>这就又是一个我的问题：对远景目标的敏感度低。</p>
<h2 id="对某件事是否值得做的评估">对某件事是否值得做的评估</h2>
<p>我也打着「为了自己好好学习」的名号做过很多事情：额外买了台平板，说要拿来在家里看网课和课件；破解平板，说是让自己查资料；逆向平板教学App，说是让自己能在别的手机平板Kindle上随时随地学习。然而，这些事情基本上都没按照预想的方向发展。其实当时的自己并不是不知道这些可能的后果，但是就是有意无意忽略了这些。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/07/10/the-brave-and-the-dragon/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/10/the-brave-and-the-dragon/" class="post-title-link" itemprop="url">怎样看待“屠龙者终成恶龙”</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-10 15:30:53" itemprop="dateCreated datePublished" datetime="2021-07-10T15:30:53+08:00">2021-07-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p><em>Wer mit Ungeheuern kämpft, mag zusehn, dass er nicht dabei zum Ungeheuer wird. Und wenn du lange in einen Abgrund blickst, blickt der Abgrund auch in dich hinein.</em> <strong>与恶龙缠斗过久，自身亦成为恶龙； 凝视深渊过久，深渊将回以凝视。</strong></p>
<p>——Friedrich Wilhelm Nietzsche（弗里德里希·威廉·尼采）</p>
</blockquote>
<p>对于是什么时候初次见到这句话，我的印象已经很模糊了。无论如何，写故事的人们很喜欢它。原因当然有很多，但是首当其冲的自然是吸引人的眼球了。然而这桥段如此惯用，以至于慢慢变得老套和稀松平常而甚至成为一个梗。这又何不是有些讽刺的自指呢。</p>
<p>然而无论如何，这既然被人写在小说里面，那么它必然是人们心目中关于“真实”的投影。小说必须在某种方面遵循我们心目中的真实感，而最真实的“现实”如何发展却常常与我们的猜测相悖。那么，这句话究竟想说什么？我们如何看待这句话呢？</p>
<p>先进行话语分析。这句话属于很直白的相关关系：屠龙与成为恶龙成正相关关系。</p>
<p>下面先贴一个最直白的解释：</p>
<blockquote>
<p>龙被勇士杀死，说明勇士已经拥有乃至超过恶龙的力量，一旦勇士因为该力量而堕落，那么他将成为另一条恶龙。</p>
<p>这句话蕴含了辩证的思想，某种程度上揭示了勇者与恶龙的故事能长期延续的一种可能。</p>
<p>（来源萌娘百科，采用<a target="_blank" rel="noopener" href="https://mzh.moegirl.org.cn/萌娘百科:版权信息">知识共享(Creative Commons) 署名-非商业性使用-相同方式共享 3.0 协议</a>授权。）</p>
</blockquote>
<p>这里让我不满意的地方是：所谓“力量”在绝大多数语境下是“单向”的。也就是说，你拥有力量后除非发生很重大的事故，否则力量就是只增不减的。推广这个概念显得有点困难了。</p>
<p>我的建议是：不妨退一步想想，为什么要屠龙呢？参考大多数写法，无非就是这条龙有意无意地造成了对人的合法权利的侵犯（至于合不合法当然是人类自己制定啦），比如气候异常（不够环保）、侵害生命权财产权之类的。那么为了维护合法权利，人类只有想办法把龙给杀了这一条路可以走（也许吧）。一句话概括：解决有问题的龙就是解决问题。那么最终，那个反对龙侵犯他人合法权利的人也开始侵犯他人合法权利了。这个转折就留下了很大的操作空间：好端端的为啥去做自己本来反对的事呢？故事要写下去得给加个因果：因为拥有力量（使能侵犯他人权利）而反转？（这是必要条件而不是充分条件吧）因为屠龙的过程或者对龙进一步的认识而反转？</p>
<p>不对，这些明明是小说家要考虑的问题。不妨跳出成为恶龙的具体因果而思考促成这转变发生的外部因素。回到这句话：</p>
<blockquote>
<p>解决有问题的龙就是解决问题。</p>
</blockquote>
<p>现在的结果不正是解决有问题的龙根本无法解决问题吗？再结合屠龙者自身作前后对照，侧面反映一件事：龙也许不是问题的关键！那么这就是我的答案：龙不是问题所在，而是问题的一种外在表现形式。而当屠龙者屠龙时就是用抑制问题的外在表现来表面上解决问题。最后一步，屠龙者变成恶龙，也就是说我们得从这变换里找一个不动点。显然有且仅有一种可能：“抑制问题的外在表现来表面上解决问题”就是问题所在！</p>
<p>用最通俗易懂的方式概括，其实只有一句话：反对形式主义，也是一种形式主义。（解释：如果只是喊着反对口号而不去考察形式主义深层次的原因，那么这口号就是一种形式主义）</p>
<p>有趣的是，这两句话看上去是我上面生拉硬扯在一起的，然而在各种小说影视桥段中你都能看到形式主义的身影。</p>
<p>中国古代改朝换代时，起义者杀死统治者取得权利，又变为新的统治者，开始循环。</p>
<p>人类因为对地球的破坏而受到所谓神明的惩罚，却以为只要把神明搞定就可以继续挥霍后代将求之不得的资源。</p>
<p>（想到了再补充）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/07/09/how-to-setup-a-blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/09/how-to-setup-a-blog/" class="post-title-link" itemprop="url">使用 Hexo 搭建个人博客</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-09 18:00:00" itemprop="dateCreated datePublished" datetime="2021-07-09T18:00:00+08:00">2021-07-09</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文意在简要说明搭建博客的过程，前面会有一些关于基本概念和运作原理的介绍。如果你已经有了一定的背景知识，可以跳到后面阅读。</p>
<h2 id="博客怎样工作">博客怎样工作？</h2>
<p>这个博客最早搭建于2019年9月7日。当时我还没有一台能长期开机的服务器（其实现在也没有），所以无意间看到 Hexo 这个博客引擎就被吸引住了，按着说明文档自己一步步搭了下来。其实搭建过程并不需要什么编程知识，只是需要充分的时间和耐心，以及遇到问题就去搜索引擎的反应。为什么 Hexo 的运作不需要服务器呢？其实 Hexo 只干了一件事：把编辑器输出的Markdown文档（Microsoft Word虽然也是这一类文件，但是不被Hexo支持）转换成HTML 5网页（包括HTML、CSS、JavaScript）。而这些网页从此就算「独立」了：不需要与生成它的那台机器相连接，它自己就能在任何能打开它的浏览器上工作，也不需要在任何服务器上运行代码。所以，我们只需要给这些网页找一个「网盘」（前提是得支持Http连接），就能通过访问这个网盘打开网页了。「网盘」也叫静态网站托管服务、OSS等，我使用的 GitHub Pages 就是其中之一。它是完全免费的。</p>
<p>但是需要一台电脑安装Hexo和相关的依赖，并在文章更新时运行一次生成、上传到GitHub还是让你觉得很不爽，怎么办？有没有免费运行Hexo的服务？还真有，那就是这篇文章要说的 GitHub Actions。</p>
<h2 id="在本地计算机配置-hexo-及主题">在本地计算机配置 Hexo 及主题</h2>
<ol type="1">
<li>请参见 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">Hexo 文档</a> 安装 Hexo，并新建一个 Hexo 网站。</li>
<li>之后在网站根目录下运行 <code>hexo server</code>，此时访问 http://localhost:4000/，你此时应该能访问一个简单的博客网站。</li>
<li>安装 <a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/">NexT 主题</a> ：<code>npm install hexo-theme-next</code></li>
<li>找到<code>node_modules/hexo-theme-next/_config.yml</code>并复制到 Hexo 目录并重命名为<code>_config.next.yml</code>（<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/configuration.html">文档</a>）</li>
<li>按照<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/getting-started/#Enabling-NexT">文档</a>编辑<code>_config.yml</code></li>
<li>继续按照<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/theme-settings/#Choosing-Scheme">文档</a>编辑<code>_config.next.yml</code>（注意此时文档中的<code>next/_config.yml</code>应视为<code>_config.next.yml</code>）</li>
</ol>
<p>（可能有些太简略了，待补充）</p>
<p>现在，你已经成功配置好自己的个人博客，在命令行执行<code>hexo server</code>即可在本机上运行博客。下一步就是把博客托管至GitHub了。</p>
<h2 id="将博客托管到-github-pages">将博客托管到 GitHub Pages</h2>
<ol type="1">
<li><p>首先你需要<a target="_blank" rel="noopener" href="https://github.com/login">登录</a>自己的 GitHub 账号。如果没有 GitHub 账号，请使用邮箱注册一个。注意，注册时请选一个理想的用户名，因为这将成为你博客域名的一部分：[username].github.io</p></li>
<li><p>然后<a target="_blank" rel="noopener" href="https://github.com/new">新建一个 repository</a>，repository name填入<code>[username].github.io</code>（username即为注册时填入的用户名），其余保持默认。</p></li>
<li><p>参考<a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%88%9D%E6%AC%A1%E8%BF%90%E8%A1%8C-Git-%E5%89%8D%E7%9A%84%E9%85%8D%E7%BD%AE#_%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF">此处</a>配置 Git 用户信息。请使用你在注册 GitHub 时提供的邮箱和用户名。</p></li>
<li><p>配置 Hexo 以将博客部署至 GitHub。打开<code>_config.yml</code>并找到下面这块配置（注意编辑repo中的<code>&lt;username&gt;</code>）（<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/github-pages#%E7%A7%81%E6%9C%89-Repository">文档</a>）</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/&lt;username&gt;/&lt;username&gt;.github.io</span></span><br><span class="line">  <span class="comment"># example, https://github.com/hexojs/hexojs.github.io</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">gh-pages</span></span><br></pre></td></tr></table></figure></li>
<li><p>运行 <code>hexo clean &amp;&amp; hexo deploy</code> ，输入 GitHub 用户名和密码。</p></li>
<li><p>进入repository页面，点击 Settings - pages，确保已启用 GitHub Pages。此时<code>https://&lt;username&gt;.github.io</code>应已可以访问。</p></li>
</ol>
<h2 id="使用-github-actions-部署博客">使用 GitHub Actions 部署博客</h2>
<ol type="1">
<li><p>登录GitHub，再新建一个repository。名字可以自己取，我的是<code>blog-source</code>。</p></li>
<li><p>新建文件<code>博客目录/.github/workflows/deploy.yml</code>，内容如下：（注意替换<code>&lt;username&gt;</code>及<code>&lt;useremail&gt;</code>）</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">blog</span> <span class="string">to</span> <span class="string">Github</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">workflow_dispatch</span>]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">GitHub</span> <span class="string">Pages</span> <span class="string">repository</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">repository:</span> <span class="string">&#x27;&lt;username&gt;/&lt;username&gt;.github.io&#x27;</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">&#x27;.deploy_git&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span> <span class="string">environment</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v2-beta</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">&#x27;12&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">pandoc</span> <span class="string">(Latex</span> <span class="string">support)</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        wget -O pandoc.deb https://github.com/jgm/pandoc/releases/download/2.13/pandoc-2.13-1-amd64.deb</span></span><br><span class="line"><span class="string">        sudo dpkg -i pandoc.deb</span></span><br><span class="line"><span class="string"></span>    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Hexo</span> <span class="string">environment</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 从之前设置的 secret 获取部署私钥</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Set</span> <span class="string">up</span> <span class="string">environment</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">DEPLOY_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DEPLOY_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        sudo timedatectl set-timezone &quot;Asia/Shanghai&quot;</span></span><br><span class="line"><span class="string">        mkdir -p ~/.ssh</span></span><br><span class="line"><span class="string">        echo &quot;$DEPLOY_KEY&quot; &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">        git config --global user.email &quot;&lt;useremail&gt;&quot;</span></span><br><span class="line"><span class="string">        git config --global user.name &quot;&lt;username&gt;&quot;</span></span><br><span class="line"><span class="string"></span>    <span class="comment"># 生成并部署</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">MESSAGE:</span> <span class="string">$&#123;&#123;</span> <span class="string">format(&#x27;Site</span> <span class="string">updated</span> &#123;<span class="number">0</span>&#125;<span class="string">@&#123;1&#125;&#x27;,</span> <span class="string">github.repository,</span> <span class="string">github.sha)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">npx</span> <span class="string">hexo</span> <span class="string">deploy</span> <span class="string">--generate</span> <span class="string">--message</span> <span class="string">&quot;$MESSAGE&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>修改<code>博客目录/.gitignore</code>在最后一行添加<code>package-lock.json</code></p></li>
<li><p>在博客目录下运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add --all</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin https://github.com/&lt;username&gt;/blog-source.git</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li>
<li><p>生成SSH密钥：<code>ssh-keygen -f hexo-deploy-key</code>一路回车即可</p></li>
<li><p>记事本打开 <code>hexo-deploy-key.pub</code> ，将里面的内容设置为仓库<code>&lt;username&gt;.github.io</code>的部署密钥（Settings &gt; Deploy keys）</p></li>
<li><p>在仓库<code>blog-source</code>的 Settings &gt; Secrets 中新增一个 secret，命名为 <code>DEPLOY_KEY</code>，把私钥 <code>hexo-deploy-key</code> 的内容复制进去。</p></li>
<li><p>最后点击<code>blog-source</code>的Actions &gt; Deploy blog to Github &gt; Run workflow</p></li>
</ol>
<h2 id="参考">参考</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://printempw.github.io/use-github-actions-to-deploy-hexo-blog/">使用 GitHub Actions 自动部署 Hexo 博客</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/05/29/about-novel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/29/about-novel/" class="post-title-link" itemprop="url">谈小说</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-29 07:37:00" itemprop="dateCreated datePublished" datetime="2021-05-29T07:37:00+08:00">2021-05-29</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近刷新了对小说的认知。</p>
<p>之前不喜欢，甚至鄙视小说，是觉得它连篇累牍，信息密度小。篇幅长，可主旨就几句话，看起来总不如议论文之类的舒服。可事实上小说的信息量并不一定比论述文小，这种错误的认知是源于对小说底层逻辑的不理解。</p>
<p>世界上有两种问题：一种是越研究越觉得它简单、连贯的，另一种是越研究，越显出其复杂的。而这两种问题有时候还能围绕着同一件事物：我们目前对气体分子运动的研究已经很详细了，也已总结出描述这些现象的很准确的定律。这就是越研究越简单的问题。但是我们现在仍然无法准确地预计天气，因为气体分子数量实在太多了。即使初始条件稍微有那么一丝偏差，最后的结果都会截然不同。这就是越研究越复杂的问题。</p>
<p>小说实际上就是对后者的研究。例如，对于「祥林嫂死了」这个事实我们会问：她为什么死了？她怎么死的？对这样的问题的一个回答是：因为封建社会对她的迫害，以及人们的冷漠无情。但是还有另一种回答思路：是因为她无依无靠、走投无路。那么为什么她处于这种境地呢？是因为她改嫁了，李四老爷忌惮她。那么为什么她改嫁了？……继续问下去，我们会得到这部小说的倒序的情节。那么，前一个回答比后一个回答好吗？恐怕不是。</p>
<p>小说正是这样：它是对于这个世界复杂性的承认。它的底层逻辑是：对一件事的来龙去脉的还原比匆忙地给这件事定性、下结论有更大的价值。因为我们身处的这个世界本就是复杂的、由无数的因果交织构成的。</p>
<p>所以，下次想要在小说的字里行间中不耐烦地搜寻「主旨」时，请先等一等吧。把一件事捏成想要的形状，然后将它放在论点的后面充当论据，并不是小说的目的。恰好相反，小说认为对于一件具体的事情的追问，对于事实的探寻，本身就是「主旨」所在。</p>
<hr />
<p>关于小说，最近还看到不少有趣的说法。陈列如下：</p>
<p>Q：小说都是人编造出来的故事，那么既然如此，我为何不看真实的历史、纪录片之类的？为什么要看一个主观的、被精心编造出来的东西？</p>
<p>A：有关于小说的一个很有趣的地方在于：小说总是从某种角度追求贴近作者对于「真实」的那种认知，但是最「真实」的现实却丝毫不理会我们是怎么理解它的！一个新奇的剧情被用得多了就会变得老套，而现实却时刻让我们感到「魔幻」。所以，从某种意义上来说，小说不追求跟现实100%一致，而是反映我们对于真实的认知。我们大可不必要求绝对的客观。毕竟，无论以什么样的形式呈现现实，都只呈现了现实的一部分。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://stay-curious.win/2021/03/26/translation-invariance-in-a-physics-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Richard Zheng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="湖面">
      <meta itemprop="description" content="人生天地间，忽如远行客。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 湖面">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/03/26/translation-invariance-in-a-physics-problem/" class="post-title-link" itemprop="url">一道物理题中的平移不变性</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-26 22:32:39" itemprop="dateCreated datePublished" datetime="2021-03-26T22:32:39+08:00">2021-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近看到一道很有意思的物理竞赛题，题面是这样的：</p>
<figure>
<img src="https://i.loli.net/2021/03/26/c4LUaeJvCOZQRIn.png" alt="graph1" /><figcaption aria-hidden="true">graph1</figcaption>
</figure>
<p>一高为 <span class="math inline">\(h\)</span> 的斜面固定在地面上，从顶部释放一小球。一观察者乘坐火车以速度 <span class="math inline">\(v_0\)</span> 匀速经过，请问小球的机械能对于该观察者是否守恒？</p>
<p>先公布答案：不守恒。</p>
<p>是不是感觉很意外？</p>
<p>现在给出该题的标准题解：若我们静止在地面上观察，那么小球的重力势能显然都将转化为动能，具体来说应该是这样：</p>
<p><span class="math display">\[
mgh=\dfrac{1}{2}mv^{2}
\]</span></p>
<p>此时小球机械能守恒。</p>
<p>若参考系以速度 <span class="math inline">\(v_0\)</span> 匀速运动，那么小球初始状态下动能为</p>
<p><span class="math display">\[
E_{k_{0}}=\dfrac{1}{2}mv_{0}^{2}
\]</span></p>
<p>在斜面底端时动能为</p>
<p><span class="math display">\[
\begin{aligned}E_{k1}&amp;=\dfrac{1}{2}m\left( v+v_{0}\right) ^{2}\\ &amp;=\dfrac{1}{2}mv^{2}+mv\cdot v_{0}+\dfrac{1}{2}mv_{0}^{2}\\ &amp;=mgh+\dfrac{1}{2}mv_{0}^{2}+mv\cdot v_{0}\\ \end{aligned}
\]</span></p>
<p>可以看到，在底端时动能表达式中除了重力势能和初始动能，还多了一项：<span class="math inline">\(mv\cdot v_{0}\)</span>. 因此机械能不守恒，证毕。</p>
<p>然而，我相信大多数人都像我一样，看到题解后仍然无法接受小球机械能不守恒的情况。为什么一个这么重要的守恒定律，仅仅变换了一个参考系就被破坏了？更严重的是，为什么一个匀速运动的参考系会出现和静止参考系不一样的现象？难道说，绝对静止是存在的？</p>
<p>所以我们将仔细审视我们自己「想当然」的思路，逐步排查出这里究竟是哪一部分出了问题。</p>
<p>首先，我们回头看看题解中的最后一条式子。看起来，这里出问题的根源在于那个平方项。正是由于这里是 <span class="math inline">\(v^2\)</span> ，所以速度的线性叠加并不等于动能的线性叠加，也就在后面冒出了一个 <span class="math inline">\(mv\cdot v_{0}\)</span> 。所以，我们从功的角度来看这个问题。显然，小球在两个参考系中受力情况是相同的。然而要注意到，小球所受的支持力在静止参考系下是与运动方向垂直的，因而不做功；但在匀速运动的参考系下，小球速度叠加了参考系的速度 <span class="math inline">\(v_0\)</span> ，因而支持力将对小球做功。看起来，问题就出在这上面了。我们可以尝试着计算支持力做的功：</p>
<p><span class="math display">\[
\begin{aligned}W&amp;=F_{T}\cdot s\\ &amp;=F_{T}\cdot v_{0}t\\ &amp;=G\cos \theta t\cdot v_{0}\\ &amp;=mv\cdot v_{0}\end{aligned}
\]</span></p>
<p>（注解：由受力分析可以看出，支持力与重力沿斜面向下的分力，对水平方向也即 <span class="math inline">\(v_0\)</span> 方向的投影是相同的）</p>
<p>结果和预想的一样。另外，注意到我们这里使用了动能定理。</p>
<p>但我们知道，力是相互作用的。那么一个功也应该有一个与之对应的相反的功。在这里，相反的功是什么呢？是小球对斜面做的负功（在这里假设 <span class="math inline">\(v_0\)</span> 与小球运动方向同向了，若反向，正负功也将颠倒）。原来，在这个过程中小球的一部分动能来源于斜面！当我们把斜面和小球纳入一个系统当中时，立刻就会发现两个功抵消了，此系统是机械能守恒的。</p>
<p>然而为什么静止时单独小球就已经是机械能守恒的呢？这是因为斜面是固定在地面上的，而我们所谓的「静止」指的正是以地面为参考系。但实际上，斜面，包括与之连通的地面，在这个过程中动能发生了变化，即使那个变化如此不起眼以至于我们常常忽略它，在这里它确实造成了「小球自己的机械能守恒」的假象。</p>
<p>至此，答案已经很明显了：我们以为的那个「静止」的参考系并不是惯性系，而是随着斜面一起运动。当我们去掉斜面固定在桌面上这一条件时，情况就很明显了。小球自己的机械能并不守恒，它的一部分重力势能到了斜面的动能中。而站在斜面上看到的小球机械能守恒，不过是绑定于这种参考系的一个特殊情况。</p>
<p>不过这里我们还能得到一个猜想。注意到我们刚才推导支持力做功时使用了动能定理，而在将斜面纳入系统中时正好把它抵消了。这正好对应着斜面和小球组成的系统是遵守动量守恒的。那么，是不是所有动量守恒的系统，在匀速运动的参考系下能量都是不变的呢？事实上确实是这样！功是力在位移上的累积，而匀速参考系之速度改变对应着位移的改变。当一个力的反作用力也被考虑到系统中，两边位移的改变才能正好抵消。这，就是「空间平移不变性」了。</p>
<p><strong>References</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="http://blog.sciencenet.cn/blog-684007-988304.html">科学网 - 物理无神圣：惯性系变换下能量守恒？ - 岳东晓的博文</a> <a target="_blank" rel="noopener" href="http://www.zzwave.com/home.php?mod=space&amp;uid=2&amp;do=blog&amp;id=33063">备份链接</a></li>
<li><a target="_blank" rel="noopener" href="http://www.zzwave.com/home.php?mod=space&amp;uid=2&amp;do=blog&amp;id=33036">外力做功的伽利略变换</a></li>
</ul>
<p><strong>Related Links</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nZ4y1u7Vu">诺特定理：物理学中最优美的想法 - bilibili</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Richard Zheng</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.1/es5/tex-mml-chtml.js","integrity":"sha256-hlC2uSQYTmPsrzGZTEQEg9PZ1a/+SV6VBCTclohf2og="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
